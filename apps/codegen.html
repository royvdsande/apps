<!doctype html>
<html lang="nl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Code Generator</title>

<!-- Thema -->
<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#1c1c1e" media="(prefers-color-scheme: dark)">

<style>
:root {
  --bg: #f5f7fb;
  --panel: #ffffff;
  --border: #d6dbe3;
  --text: #263238;
  --muted: #607d8b;
  --shadow: 0 1px 2px rgba(0,0,0,.08), 0 8px 30px rgba(0,0,0,.08);
  --btn-gen: #3f51b5;
  --btn-clear: #e53935;
  --btn-copy: #f9fafc;
}

@media (prefers-color-scheme: dark){
  :root {
    --bg: #1c1c1e;
    --panel: #2c2c2e;
    --border: #3a3a3c;
    --text: #f2f2f7;
    --muted: #9ca3af;
    --shadow: 0 1px 4px rgba(0,0,0,.6), 0 6px 20px rgba(0,0,0,.5);
    --btn-gen: #0a84ff;
    --btn-clear: #ff453a;
    --btn-copy: #3a3a3c;
  }
}

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  background: var(--bg);
  display: flex;
  justify-content: center;
  align-items: center;
  color: var(--text);
}

.card {
  background: var(--panel);
  padding: 20px;
  border-radius: 16px;
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
  text-align: center;
  width: min(340px, 92%);
}

h1 {
  font-size: 20px;
  margin-bottom: 12px;
  color: var(--text);
}

input {
  font-size: 22px;
  text-align: center;
  width: 90%;
  padding: 10px;
  border-radius: 10px;
  border: 1px solid var(--border);
  margin-bottom: 14px;
  background: var(--panel);
  color: var(--text);
  box-shadow: inset 0 1px 3px rgba(0,0,0,.1);
}

button {
  font-size: 16px;
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 8px 14px;
  margin: 4px;
  cursor: pointer;
  box-shadow: var(--shadow);
  background: var(--btn-copy);
  color: var(--text);
  transition: all .15s ease;
}
button:hover { filter: brightness(0.95); }
button:active { transform: translateY(1px); }

.gen { background: var(--btn-gen); color: #fff; border: none; }
.clear { background: var(--btn-clear); color: #fff; border: none; }

#history {
  margin-top: 14px;
  font-size: 14px;
  text-align: left;
  max-height: 140px;
  overflow-y: auto;
  padding: 8px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--panel);
  color: var(--text);
  box-shadow: inset 0 1px 2px rgba(0,0,0,.05);
}

.history-item {
  cursor: pointer;
  padding: 4px 6px;
  border-radius: 6px;
  transition: background .15s;
}
.history-item:hover {
  background: rgba(63,81,181,0.15);
}
</style>
</head>

<body>
<div class="card">
  <h1>Willekeurige Code Generator</h1>
  <input id="code" readonly value="Klik op 'Genereer code'">
  <div>
    <button class="gen" onclick="generateCode()">Genereer code</button>
    <button class="copy" onclick="copyCode()">Kopieer huidige</button>
    <button class="clear" onclick="clearHistory()">Verwijder geschiedenis</button>
  </div>
  <div id="history"></div>
</div>

<script>
const codeField = document.getElementById('code');
const historyDiv = document.getElementById('history');
let codes = JSON.parse(localStorage.getItem('codes') || '[]');

function updateHistory() {
  historyDiv.innerHTML = '';
  codes.slice().reverse().forEach(c => {
    const div = document.createElement('div');
    div.textContent = c;
    div.className = 'history-item';
    div.onclick = ()=> { codeField.value = c; }
    historyDiv.appendChild(div);
  });
}
updateHistory();

function randomLetter() {
  const letters = "abcdefghijklmnopqrstuvwxyz";
  return letters[Math.floor(Math.random()*letters.length)];
}

function generateCode() {
  let arr = [];
  for(let i=0;i<18;i++) arr.push(randomLetter());
  const numIndex = Math.floor(Math.random()*18);
  arr[numIndex] = String(Math.floor(Math.random()*10));
  let upperIndex;
  do{ upperIndex = Math.floor(Math.random()*18); }
  while(upperIndex===numIndex);
  arr[upperIndex] = arr[upperIndex].toUpperCase();
  const code = arr.slice(0,6).join('')+'-'+arr.slice(6,12).join('')+'-'+arr.slice(12,18).join('');
  codeField.value = code;

  if(!codes.includes(code)){
    codes.push(code);
    localStorage.setItem('codes', JSON.stringify(codes));
    updateHistory();
  }
}

function copyCode() {
  codeField.select();
  codeField.setSelectionRange(0,99999);
  document.execCommand('copy');
  alert('Code gekopieerd!');
}

function clearHistory() {
  if(confirm('Weet je zeker dat je alle codes wilt verwijderen?')) {
    codes = [];
    localStorage.removeItem('codes');
    updateHistory();
  }
}

generateCode();
</script>
</body>
</html>
